{% extends 'base.html.twig' %}

{% set membership = app.user.territorialCouncilMembership %}
{% set territorial_council = membership.territorialCouncil %}
{% set candidacy = territorial_council.currentElection ? membership.candidacyForElection(territorial_council.currentElection) : null %}

{% set able_to_candidate = is_granted('ABLE_TO_BECOME_TERRITORIAL_COUNCIL_CANDIDATE', app.user) %}

{% block content %}
    <main class="territorial-council">
        <header class="territorial-council__header">
            <div class="l__wrapper territorial-council__header__content">
                <div class="text--white territorial-council__header__titles">
                    <div class="text--uppercase text--small b__nudge--bottom">
                        Instance
                    </div>
                    <div class="territorial-council__name">
                        <h1 id="territorial-council-name" class="text--large">Conseil territorial</h1>
                    </div>
                    <ul class="territorial-council__infos">
                        <li>
                            {{ include('components/location.html.twig') }}
                            {{ territorial_council.name }}
                            {% if territorial_council.codes %}({{ territorial_council.codes }}){% endif %}
                        </li>
                        <li>
                            {{ include('components/users.html.twig') }}
                            {{ 'territorial_council.members_count'|transchoice(territorial_council.memberships.count) }}
                        </li>
                    </ul>
                </div>
            </div>
        </header>

        <div class="l__wrapper l__row l__row--top l__row--h-stretch l__tablet--col">
            {% block territorial_council_content %}{% endblock %}
        </div>
    </main>
{% endblock %}
